<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <title>Google Recaptcha, How to use the “I'm not a Robot”</title>
  <style>
    .fb9 {
      border: 1px solid #3366FF;
      background-color: #B3C6FF;
      width:150px;
      height:30px;
    }
  </style>
  <script src='https://www.google.com/recaptcha/api.js'></script>
</head>

<body>
  <form action="" method="post">
    <h1>Google Recaptcha, How to use the “I'm not a Robot”</h1>
    <div>
      <label for="name">Name:</label>
      <input name="name" required>
    </div>
    <div>
      <label for="email">Email:</label>
      <input name="email" type="email" required><br/>
    </div>
    <div>
      <label for="phone">Phone:</label>
      <input name="phone" type="phone" required><br/>
    </div>
    <div class="g-recaptcha" data-sitekey="6Ldbdg0TAAAAAI7KAf72Q6uagbWzWecTeBWmrCpJ"></div>
    <input type="submit" value="Submit" class="fb9" />

  </form>

</body>

</html> -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Google reCAPTCHA Example</title>
    <link 
		rel="stylesheet" 
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
		crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="form-container" class="mt-4">

	<form action="controller-sign-up.php" method="post">

		<h2>Sign Up</h2>

		<div class="mb-4">
			<label class="form-label" for="email">Email address</label>
			<input type="email" name="email" id="email" class="form-control" />
		</div>

		<div class="mb-4">
			<label class="form-label" for="password">Password</label>
			<input type="password" name="password" id="password" class="form-control" />
		</div>

        <div id="google-recaptcha-checkbox"></div>

        <input type="hidden" name="signUpAttempt" value="1">
		<input type="submit" class="btn btn-primary btn-block mb-4" value="Sign Up">

	</form>

</div>

<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
    async defer>
</script>

<script type="text/javascript">
    var onloadCallback = function() {
        grecaptcha.render('google-recaptcha-checkbox', {
            'sitekey' : '6LeuxwoqAAAAALbj5_JMHbp9OTdzad6Eqn1O1fes'
        });
    };
</script>

</body>
</html>

<!-- <?php

if (array_key_exists('signUpAttempt', $_POST)) {

	$captcha = isset($_POST['g-recaptcha-response']) ? $_POST['g-recaptcha-response'] : null;

	// ultimately these could be constants in a "secrets" file
	// 	aka stored as environment variables
	#$captchaPublic = constant('CAPTCHA_PUBLIC');
	#$captchaSecret = constant('CAPTCHA_SECRET');
	$captchaPublic = "my-public-key-here";
	$captchaSecret = "my-secret-key-here";

	$res = json_decode(file_get_contents("https://www.google.com/recaptcha/api/siteverify?secret=".$captchaSecret ."&response=".$captcha));

	if($res->success === true){
		// ok! don't do anything
	} else{
		print "Error: Human check failed";
		exit();
	}
	
	// continue sign up process as normal
	print "You don't seem to be a robot";
	exit();

	#$email = $_POST['email'] ?? '';
	#$password = $_POST['password'] ?? '';

	// ...

}
?> -->